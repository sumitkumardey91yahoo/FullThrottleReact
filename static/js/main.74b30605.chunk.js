(this.webpackJsonpsumit=this.webpackJsonpsumit||[]).push([[0],[,,,,,,,,,,,,,function(t,e,n){t.exports=n(26)},,,,,function(t,e,n){},function(t,e,n){},function(t,e,n){},,,,function(t,e,n){},function(t,e,n){},function(t,e,n){"use strict";n.r(e);var a=n(0),r=n.n(a),o=n(9),i=n.n(o),s=(n(18),n(19),n(1)),u=n(2),l=n(4),c=n(3),m=n(5),h=(n(20),n(6)),p=n.n(h),d=n(10),g=function(){var t=Object(d.a)(p.a.mark((function t(e,n){var a,r,o,i;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e&&n){t.next=2;break}return t.abrupt("return",new Error({error:"invalid"}));case 2:return e=parseInt(e),a="https://ftl-frontend-test.herokuapp.com/interest?amount=".concat(e,"&numMonths=").concat(n),t.next=6,fetch(a);case 6:return r=t.sent,t.next=9,r.json();case 9:return o=t.sent,i={result:o,input:{amount:e,duration:n}},t.abrupt("return",i);case 12:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),v=function(){var t=localStorage.getItem("set-loan-info")?JSON.parse(localStorage.getItem("set-loan-info")):"";return!!t&&t[0]},f=n(11),y={info:[]},b=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"getResponseAmountMonth":t.info=e.payload}return t},E=Object(f.a)(b),S={monthStart:6,monthEnd:24,amountRangestart:500,amountRangeEnd:5e3,errorMonth:"month should be in between 6 to 24",errorAmount:"amount should be in between 500 to 5000"};S.textInput=[{name:"loan amount",key:"loan_amount",init:S.amountRangestart},{name:"loan duration",key:"loan_duration",init:S.monthStart}];var x=S,R=function(t){function e(){var t;return Object(s.a)(this,e),(t=Object(l.a)(this,Object(c.a)(e).call(this))).state={errorMessage:"",errorMessageMonth:""},t}return Object(m.a)(e,t),Object(u.a)(e,[{key:"initState",value:function(){var t={};this.props.dataset.map((function(e){return t[e.key]=e.init})),this.setState(t)}},{key:"componentWillReceiveProps",value:function(t){var e=this;t.sliderInput&&this.props.sliderInput!==t.sliderInput&&this.setState({loan_amount:t.sliderInput},(function(t){e.validationTxt()||e.actRequestServeice()}))}},{key:"changeVal",value:function(t,e){var n=this,a={};a[e]=t.target.value,this.setState(a,(function(){n.validationTxt()||n.actRequestServeice()})),this.props.getTextInfo(a)}},{key:"validationTxt",value:function(){var t=this;console.log("validation",this.state);var e=this.state,n=e.loan_amount,a=e.loan_duration,r=!1;return n=n?parseInt(n):0,(a=a?parseInt(a):0)>=x.monthStart&&a<=x.monthEnd?this.setState({errorMessageMonth:""}):(this.setState({errorMessageMonth:x.errorMonth},(function(){console.log("r",x.errorMonth),console.log(t.state.errorMessage)})),r=!0),n>=x.amountRangestart&&n<=x.amountRangeEnd?this.setState({errorMessage:""}):(this.setState({errorMessage:x.errorAmount}),r=!0),r}},{key:"actRequestServeice",value:function(t){var e=this.state,n=e.loan_amount,a=e.loan_duration;g(n,a).then((function(t){E.dispatch({type:"getResponseAmountMonth",payload:t})}),(function(t){}))}},{key:"componentWillMount",value:function(){this.initState()}},{key:"render",value:function(){var t=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"main-text"},this.props.dataset.map((function(e){return r.a.createElement("div",{class:"t-box-div"},r.a.createElement("h5",null," ",e.name),r.a.createElement("input",{type:"text",key:e.key,value:t.state[e.key],onChange:function(n){return t.changeVal(n,e.key)}}))}))),r.a.createElement("p",null,this.state.errorMessage),r.a.createElement("p",null,this.state.errorMessageMonth))}}]),e}(a.Component),O=(n(24),function(t){function e(t){var n;Object(s.a)(this,e),(n=Object(l.a)(this,Object(c.a)(e).call(this,t))).amountRangestart=x.amountRangestart,n.amountRangeEnd=x.amountRangeEnd;var a=v(),r="";return a&&(r=a.amount),n.state={data:r||n.amountRangestart},n}return Object(m.a)(e,t),Object(u.a)(e,[{key:"initRange",value:function(t){var e=this;this.setState({data:t.target.value},(function(){e.props.getSliderValue(e.state.data)}))}},{key:"componentWillReceiveProps",value:function(t){var e=t.sendDataset;t.sendDataset!==this.props.sendDataset&&this.setState({data:e})}},{key:"render",value:function(){return r.a.createElement("div",{style:{textAlign:"center",marginTop:"32px"}},r.a.createElement("div",{class:"slidecontainer"}," min: ",this.amountRangestart,r.a.createElement("input",{type:"range",min:this.amountRangestart,max:this.amountRangeEnd,value:this.state.data,class:"slider",id:"myRange",step:"1",onChange:this.initRange.bind(this)}),"max: ",this.amountRangeEnd,r.a.createElement("p",null,"value: ",r.a.createElement("span",{id:"demo"},this.state.data))))}}]),e}(a.Component)),k=function(t){function e(){var t;return Object(s.a)(this,e),(t=Object(l.a)(this,Object(c.a)(e).call(this))).state={textbox:t.getFinalData(),slider:0,textAmount:0},t}return Object(m.a)(e,t),Object(u.a)(e,[{key:"getFinalData",value:function(){var t=x.textInput,e=x.textInput,n=v();if(n){var a=[n.amount,n.duration];e=t.map((function(t,e){return t.init=a[e],t}))}return console.log(e),e}},{key:"getText",value:function(t){this.setState({textAmount:t.loan_amount})}},{key:"getSlider",value:function(t){this.setState({slider:t})}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(R,{dataset:this.state.textbox,sliderInput:this.state.slider,getTextInfo:this.getText.bind(this)}),r.a.createElement(O,{getSliderValue:this.getSlider.bind(this),sendDataset:this.state.textAmount}))}}]),e}(a.Component),j=(n(25),function(t){function e(){var t;Object(s.a)(this,e),t=Object(l.a)(this,Object(c.a)(e).call(this));var n=v(),a={interestRate:0,monthlyPayment:0};return n&&(a.interestRate=n.rate,a.monthlyPayment=n.monthlyPayment),t.state=a,t}return Object(m.a)(e,t),Object(u.a)(e,[{key:"componentWillMount",value:function(){var t=this;E.subscribe((function(){console.log("My store has changed: State value =",E.getState());var e=E.getState().info.input,n=e.amount,a=e.duration,r=E.getState().info.result,o=r.interestRate,i=r.monthlyPayment;!function(t,e,n,a){var r=[];e=parseInt(e),(r=localStorage.getItem("set-loan-info")?JSON.parse(localStorage.getItem("set-loan-info")):[]).unshift({amount:t,duration:e,rate:n,monthlyPayment:a}),console.log("dataset",r),localStorage.setItem("set-loan-info",JSON.stringify(r))}(n,a,o,i.amount),t.setState({interestRate:o,monthlyPayment:i.amount})}))}},{key:"render",value:function(){return r.a.createElement("div",{class:"output"},r.a.createElement("div",{class:"item-output"},r.a.createElement("h5",{style:{marginRight:"12px"}},"interest rate: ")," ",r.a.createElement("h5",null,this.state.interestRate)),r.a.createElement("div",{class:"item-output"},r.a.createElement("h5",{style:{marginRight:"12px"}},"monthly payment: ")," ",r.a.createElement("h5",null,this.state.monthlyPayment)))}}]),e}(r.a.Component)),M=function(t){function e(){return Object(s.a)(this,e),Object(l.a)(this,Object(c.a)(e).apply(this,arguments))}return Object(m.a)(e,t),Object(u.a)(e,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(k,null),r.a.createElement(j,null))}}]),e}(a.Component);var I=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(M,null))};i.a.render(r.a.createElement(I,null),document.getElementById("root"))}],[[13,1,2]]]);
//# sourceMappingURL=main.74b30605.chunk.js.map